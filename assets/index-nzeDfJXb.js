(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Z,g,Ve,B,ye,We,je,qe,_e,ce,le,W={},ze=[],yt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ee=Array.isArray;function H(e,t){for(var n in t)e[n]=t[n];return e}function fe(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function wt(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?Z.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]==null&&(s[i]=e.defaultProps[i]);return z(e,s,r,o,null)}function z(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Ve,__i:-1,__u:0};return o==null&&g.vnode!=null&&g.vnode(i),i}function te(e){return e.children}function N(e,t){this.props=e,this.context=t}function V(e,t){if(t==null)return e.__?V(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?V(e):null}function Ne(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Ne(e)}}function we(e){(!e.__d&&(e.__d=!0)&&B.push(e)&&!X.__r++||ye!=g.debounceRendering)&&((ye=g.debounceRendering)||We)(X)}function X(){for(var e,t,n,r,o,i,s,c=1;B.length;)B.length>c&&B.sort(je),e=B.shift(),c=B.length,e.__d&&(n=void 0,o=(r=(t=e).__v).__e,i=[],s=[],t.__P&&((n=H({},r)).__v=r.__v+1,g.vnode&&g.vnode(n),he(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,i,o??V(r),!!(32&r.__u),s),n.__v=r.__v,n.__.__k[n.__i]=n,Ye(i,n,s),n.__e!=o&&Ne(n)));X.__r=0}function Ge(e,t,n,r,o,i,s,c,l,u,_){var a,h,d,y,E,w,p=r&&r.__k||ze,m=t.length;for(l=vt(n,t,p,l,m),a=0;a<m;a++)(d=n.__k[a])!=null&&(h=d.__i==-1?W:p[d.__i]||W,d.__i=a,w=he(e,d,h,o,i,s,c,l,u,_),y=d.__e,d.ref&&h.ref!=d.ref&&(h.ref&&de(h.ref,null,d),_.push(d.ref,d.__c||y,d)),E==null&&y!=null&&(E=y),4&d.__u||h.__k===d.__k?l=Xe(d,l,e):typeof d.type=="function"&&w!==void 0?l=w:y&&(l=y.nextSibling),d.__u&=-7);return n.__e=E,l}function vt(e,t,n,r,o){var i,s,c,l,u,_=n.length,a=_,h=0;for(e.__k=new Array(o),i=0;i<o;i++)(s=t[i])!=null&&typeof s!="boolean"&&typeof s!="function"?(l=i+h,(s=e.__k[i]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?z(null,s,null,null,null):ee(s)?z(te,{children:s},null,null,null):s.constructor==null&&s.__b>0?z(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=e,s.__b=e.__b+1,c=null,(u=s.__i=bt(s,n,l,a))!=-1&&(a--,(c=n[u])&&(c.__u|=2)),c==null||c.__v==null?(u==-1&&(o>_?h--:o<_&&h++),typeof s.type!="function"&&(s.__u|=4)):u!=l&&(u==l-1?h--:u==l+1?h++:(u>l?h--:h++,s.__u|=4))):e.__k[i]=null;if(a)for(i=0;i<_;i++)(c=n[i])!=null&&(2&c.__u)==0&&(c.__e==r&&(r=V(c)),Je(c,c));return r}function Xe(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Xe(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=V(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function bt(e,t,n,r){var o,i,s=e.key,c=e.type,l=t[n];if(l===null&&e.key==null||l&&s==l.key&&c==l.type&&(2&l.__u)==0)return n;if(r>(l!=null&&(2&l.__u)==0?1:0))for(o=n-1,i=n+1;o>=0||i<t.length;){if(o>=0){if((l=t[o])&&(2&l.__u)==0&&s==l.key&&c==l.type)return o;o--}if(i<t.length){if((l=t[i])&&(2&l.__u)==0&&s==l.key&&c==l.type)return i;i++}}return-1}function ve(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||yt.test(t)?n:n+"px"}function j(e,t,n,r,o){var i;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ve(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||ve(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")i=t!=(t=t.replace(qe,"$1")),t=t.toLowerCase()in e||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=_e,e.addEventListener(t,i?le:ce,i)):e.removeEventListener(t,i?le:ce,i);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function be(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=_e++;else if(t.t<n.u)return;return n(g.event?g.event(t):t)}}}function he(e,t,n,r,o,i,s,c,l,u){var _,a,h,d,y,E,w,p,m,D,T,k,R,F,P,x,I,C=t.type;if(t.constructor!=null)return null;128&n.__u&&(l=!!(32&n.__u),i=[c=t.__e=n.__e]),(_=g.__b)&&_(t);e:if(typeof C=="function")try{if(p=t.props,m="prototype"in C&&C.prototype.render,D=(_=C.contextType)&&r[_.__c],T=_?D?D.props.value:_.__:r,n.__c?w=(a=t.__c=n.__c).__=a.__E:(m?t.__c=a=new C(p,T):(t.__c=a=new N(p,T),a.constructor=C,a.render=St),D&&D.sub(a),a.props=p,a.state||(a.state={}),a.context=T,a.__n=r,h=a.__d=!0,a.__h=[],a._sb=[]),m&&a.__s==null&&(a.__s=a.state),m&&C.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=H({},a.__s)),H(a.__s,C.getDerivedStateFromProps(p,a.__s))),d=a.props,y=a.state,a.__v=t,h)m&&C.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),m&&a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(m&&C.getDerivedStateFromProps==null&&p!==d&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(p,T),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(p,a.__s,T)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(a.props=p,a.state=a.__s,a.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(A){A&&(A.__=t)}),k=0;k<a._sb.length;k++)a.__h.push(a._sb[k]);a._sb=[],a.__h.length&&s.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(p,a.__s,T),m&&a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(d,y,E)})}if(a.context=T,a.props=p,a.__P=e,a.__e=!1,R=g.__r,F=0,m){for(a.state=a.__s,a.__d=!1,R&&R(t),_=a.render(a.props,a.state,a.context),P=0;P<a._sb.length;P++)a.__h.push(a._sb[P]);a._sb=[]}else do a.__d=!1,R&&R(t),_=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++F<25);a.state=a.__s,a.getChildContext!=null&&(r=H(H({},r),a.getChildContext())),m&&!h&&a.getSnapshotBeforeUpdate!=null&&(E=a.getSnapshotBeforeUpdate(d,y)),x=_,_!=null&&_.type===te&&_.key==null&&(x=Qe(_.props.children)),c=Ge(e,ee(x)?x:[x],t,n,r,o,i,s,c,l,u),a.base=t.__e,t.__u&=-161,a.__h.length&&s.push(a),w&&(a.__E=a.__=null)}catch(A){if(t.__v=null,l||i!=null)if(A.then){for(t.__u|=l?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;i[i.indexOf(c)]=null,t.__e=c}else for(I=i.length;I--;)fe(i[I]);else t.__e=n.__e,t.__k=n.__k;g.__e(A,t,n)}else i==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):c=t.__e=Ct(n.__e,t,n,r,o,i,s,l,u);return(_=g.diffed)&&_(t),128&t.__u?void 0:c}function Ye(e,t,n){for(var r=0;r<n.length;r++)de(n[r],n[++r],n[++r]);g.__c&&g.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){g.__e(i,o.__v)}})}function Qe(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:ee(e)?e.map(Qe):H({},e)}function Ct(e,t,n,r,o,i,s,c,l){var u,_,a,h,d,y,E,w=n.props,p=t.props,m=t.type;if(m=="svg"?o="http://www.w3.org/2000/svg":m=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((d=i[u])&&"setAttribute"in d==!!m&&(m?d.localName==m:d.nodeType==3)){e=d,i[u]=null;break}}if(e==null){if(m==null)return document.createTextNode(p);e=document.createElementNS(o,m,p.is&&p),c&&(g.__m&&g.__m(t,i),c=!1),i=null}if(m==null)w===p||c&&e.data==p||(e.data=p);else{if(i=i&&Z.call(e.childNodes),w=n.props||W,!c&&i!=null)for(w={},u=0;u<e.attributes.length;u++)w[(d=e.attributes[u]).name]=d.value;for(u in w)if(d=w[u],u!="children"){if(u=="dangerouslySetInnerHTML")a=d;else if(!(u in p)){if(u=="value"&&"defaultValue"in p||u=="checked"&&"defaultChecked"in p)continue;j(e,u,null,d,o)}}for(u in p)d=p[u],u=="children"?h=d:u=="dangerouslySetInnerHTML"?_=d:u=="value"?y=d:u=="checked"?E=d:c&&typeof d!="function"||w[u]===d||j(e,u,d,w[u],o);if(_)c||a&&(_.__html==a.__html||_.__html==e.innerHTML)||(e.innerHTML=_.__html),t.__k=[];else if(a&&(e.innerHTML=""),Ge(t.type=="template"?e.content:e,ee(h)?h:[h],t,n,r,m=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,s,i?i[0]:n.__k&&V(n,0),c,l),i!=null)for(u=i.length;u--;)fe(i[u]);c||(u="value",m=="progress"&&y==null?e.removeAttribute("value"):y!=null&&(y!==e[u]||m=="progress"&&!y||m=="option"&&y!=w[u])&&j(e,u,y,w[u],o),u="checked",E!=null&&E!=e[u]&&j(e,u,E,w[u],o))}return e}function de(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){g.__e(o,n)}}function Je(e,t,n){var r,o;if(g.unmount&&g.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||de(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){g.__e(i,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Je(r[o],t,n||typeof e.type!="function");n||fe(e.__e),e.__c=e.__=e.__e=void 0}function St(e,t,n){return this.constructor(e,n)}function Et(e,t,n){var r,o,i,s;t==document&&(t=document.documentElement),g.__&&g.__(e,t),o=(r=!1)?null:t.__k,i=[],s=[],he(t,e=t.__k=wt(te,null,[e]),o||W,W,t.namespaceURI,o?null:t.firstChild?Z.call(t.childNodes):null,i,o?o.__e:t.firstChild,r,s),Ye(i,e,s)}Z=ze.slice,g={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(c){e=c}throw e}},Ve=0,N.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=H({},this.state),typeof e=="function"&&(e=e(H({},n),this.props)),e&&H(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),we(this))},N.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),we(this))},N.prototype.render=te,B=[],We=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,je=function(e,t){return e.__v.__b-t.__v.__b},X.__r=0,qe=/(PointerCapture)$|Capture$/i,_e=0,ce=be(!1),le=be(!0);var xt=0;function f(e,t,n,r,o,i){t||(t={});var s,c,l=t;if("ref"in l)for(c in l={},t)c=="ref"?s=t[c]:l[c]=t[c];var u={type:e,props:l,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--xt,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(s=e.defaultProps))for(c in s)l[c]===void 0&&(l[c]=s[c]);return g.vnode&&g.vnode(u),u}var Y,v,ie,Ce,Q=0,Ke=[],b=g,Se=b.__b,Ee=b.__r,xe=b.diffed,$e=b.__c,Te=b.unmount,Pe=b.__;function Ze(e,t){b.__h&&b.__h(v,e,Q||t),Q=0;var n=v.__H||(v.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function q(e){return Q=1,$t(tt,e)}function $t(e,t,n){var r=Ze(Y++,2);if(r.t=e,!r.__c&&(r.__=[tt(void 0,t),function(c){var l=r.__N?r.__N[0]:r.__[0],u=r.t(l,c);l!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=v,!v.__f)){var o=function(c,l,u){if(!r.__c.__H)return!0;var _=r.__c.__H.__.filter(function(h){return!!h.__c});if(_.every(function(h){return!h.__N}))return!i||i.call(this,c,l,u);var a=r.__c.props!==c;return _.forEach(function(h){if(h.__N){var d=h.__[0];h.__=h.__N,h.__N=void 0,d!==h.__[0]&&(a=!0)}}),i&&i.call(this,c,l,u)||a};v.__f=!0;var i=v.shouldComponentUpdate,s=v.componentWillUpdate;v.componentWillUpdate=function(c,l,u){if(this.__e){var _=i;i=void 0,o(c,l,u),i=_}s&&s.call(this,c,l,u)},v.shouldComponentUpdate=o}return r.__N||r.__}function Tt(e){return Q=5,et(function(){return{current:e}},[])}function et(e,t){var n=Ze(Y++,7);return Dt(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Pt(){for(var e;e=Ke.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(G),e.__H.__h.forEach(ae),e.__H.__h=[]}catch(t){e.__H.__h=[],b.__e(t,e.__v)}}b.__b=function(e){v=null,Se&&Se(e)},b.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Pe&&Pe(e,t)},b.__r=function(e){Ee&&Ee(e),Y=0;var t=(v=e.__c).__H;t&&(ie===v?(t.__h=[],v.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(G),t.__h.forEach(ae),t.__h=[],Y=0)),ie=v},b.diffed=function(e){xe&&xe(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Ke.push(t)!==1&&Ce===b.requestAnimationFrame||((Ce=b.requestAnimationFrame)||Ht)(Pt)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),ie=v=null},b.__c=function(e,t){t.some(function(n){try{n.__h.forEach(G),n.__h=n.__h.filter(function(r){return!r.__||ae(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],b.__e(r,n.__v)}}),$e&&$e(e,t)},b.unmount=function(e){Te&&Te(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{G(r)}catch(o){t=o}}),n.__H=void 0,t&&b.__e(t,n.__v))};var He=typeof requestAnimationFrame=="function";function Ht(e){var t,n=function(){clearTimeout(r),He&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);He&&(t=requestAnimationFrame(n))}function G(e){var t=v,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),v=t}function ae(e){var t=v;e.__c=e.__(),v=t}function Dt(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function tt(e,t){return typeof t=="function"?t(e):t}const kt=["mon","tue","wed","thu","fri","sat","sun"],Rt=["lec","tut","lab"];function Lt({course:e,onUpdate:t,onDelete:n}){const r=c=>{const l=c.target.value.toLowerCase(),u=e.sessions.map(_=>({..._,name:l}));t({...e,name:l,sessions:u})},o=(c,l,u)=>{const _=[...e.sessions];_[c]={..._[c],[l]:u.toLowerCase()},t({...e,sessions:_})},i=()=>{t({...e,sessions:[...e.sessions,{day:"mon",startTime:"",endTime:"",room:"",type:"lec",name:e.name}]})},s=c=>{const l=e.sessions.filter((u,_)=>_!==c);t({...e,sessions:l})};return f("div",{class:"course-card",children:[f("div",{class:"input-wrapper centered-input",children:[f("label",{children:"course name or code"}),f("input",{type:"text",placeholder:"e.g. syde 381",minlength:2,maxlength:16,value:e.name,onInput:r,required:!0})]}),f("div",{class:"session-container",children:[e.sessions.map((c,l)=>f("div",{class:"session",children:[f("div",{class:"session-inputs",children:[f("div",{class:"input-wrapper",children:[f("label",{children:"type"}),f("select",{value:c.type,onInput:u=>o(l,"type",u.target.value),children:Rt.map(u=>f("option",{value:u,children:u},u))})]}),f("div",{class:"input-wrapper",children:[f("label",{children:"day"}),f("select",{value:c.day,onInput:u=>o(l,"day",u.target.value),children:kt.map(u=>f("option",{value:u,children:u},u))})]}),f("div",{class:"input-wrapper",children:[f("label",{children:"room"}),f("input",{type:"text",placeholder:"e.g. e7 4417",minlength:2,maxlength:10,value:c.room,onInput:u=>o(l,"room",u.target.value),required:!0})]}),f("div",{class:"input-wrapper",children:[f("label",{children:"start time"}),f("input",{type:"time",min:"08:30",max:"21:00",value:c.startTime,onInput:u=>o(l,"startTime",u.target.value),required:!0})]}),f("div",{class:"input-wrapper",children:[f("label",{children:"end time"}),f("input",{type:"time",min:"09:20",max:"21:50",value:c.endTime,onInput:u=>o(l,"endTime",u.target.value),required:!0})]})]}),f("button",{type:"button",onClick:()=>s(l),children:"× remove"})]},l)),f("button",{type:"button",onClick:i,children:"+ add day/time"})]}),f("div",{children:f("button",{type:"button",onClick:n,children:"− delete course"})})]})}const De=()=>{const e=new Date,t=e.getMonth(),n=e.getFullYear();return t>=2&&t<=5?`spring ${n}`:t>=6&&t<=9?`fall ${n}`:`winter ${n}`},pe=()=>{const e=new Date().getMonth();return e>=2&&e<=5?"spring":e>=6&&e<=9?"fall":"winter"},At=e=>{const t={mon:[],tue:[],wed:[],thu:[],fri:[],sat:[],sun:[]};for(let n of e)for(let r of n.sessions)t[r.day].push(r);return!t.sat.length&&!t.sun.length?Object.fromEntries(Object.entries(t).filter(([n])=>!["sat","sun"].includes(n))):t.sat.length?t:Object.fromEntries(Object.entries(t).filter(([n])=>!["sat"].includes(n)))},ke=e=>{const[t,n]=e.split(":");let r=Number(t);return r%=12,r===0&&(r=12),`${r}:${n||"00"}`},Mt=(e,t)=>{const n=Math.abs(e-t);return Math.min(n,360-n)},Bt=(e,t)=>{const n=Math.abs(e.l-t.l),r=Mt(e.h,t.h);return n<10&&r<45},Ft=(e,t)=>{const n={winter:{h:200,s:68,l:86},spring:{h:124,s:70,l:85},fall:{h:27,s:88,l:81}};let r=0;for(let _=0;_<e.length;_++)r=e.charCodeAt(_)+((r<<5)-r);let o=Math.abs(r)%360,i=90;t==="lec"&&(i=80),t==="lab"&&(i=70);const s=70;Bt(n[pe()],{h:o,l:80})&&(o=(o+120)%360);const c=`hsl(${o}, ${s}%, ${i}%)`,l=`hsl(${o}, ${s}%, ${i-40}%)`,u=`hsl(${o}, ${s}%, ${i-24}%)`;return{background:c,primaryText:l,secondaryText:u}},It=e=>{let t=17;for(let n of e)for(let r of n.sessions){const[o,i]=r.endTime.split(":").map(Number),s=o+(i>0?1:0);t=Math.max(t,s)}return t-8},Ut=(e,t)=>{const[n,r]=e.startTime.split(":").map(Number),[o,i]=e.endTime.split(":").map(Number),s=n+r/60,c=o+i/60;return{position:t*(s-8)+64,height:t*(c-s)}},Ot=e=>{const t=e*5/6-16,n=Math.min(t*.32,20),r=Math.min(t*.44,28),o=Math.min(t*.24,16);return{roomHeight:n,nameHeight:r,timeHeight:o}},Vt=(e,t)=>{const n=[];for(let r=8;r<=8+e;r++){let o=r%12;o===0&&(o=12);const i=r>=12?"p":"a",s=t*(r-8)+112;n.push({text:`${o}${i}`,position:s})}return n},Wt=e=>{const t=[],n=[];for(let r of e)for(let o of r.sessions){const i=o.room.split(" ")[0].toUpperCase();Object.keys(Le).includes(i)&&!t.includes(i)&&(t.push(i),n.push(Le[i]))}return n},Re=e=>{const[t,n]=e.split(":").map(Number);return t*60+n},jt=e=>{if(!e.name||!e.room||!e.startTime||!e.endTime)return!1;const t=Re(e.startTime),n=Re(e.endTime);return t<n},Le={AL:{code:"AL",color:"#CC3333",left:66,top:67},B1:{code:"B1",color:"#CC7A33",left:57,top:47},B2:{code:"B2",color:"#CCC033",left:51,top:46},BMH:{code:"BMH",color:"#91CC33",left:40,top:13},C2:{code:"C2",color:"#4BCC33",left:57,top:33},CGR:{code:"CGR",color:"#33CC62",left:42,top:95},CPH:{code:"CPH",color:"#33CCA9",left:86,top:45},DC:{code:"DC",color:"#33A9CC",left:64,top:26},DWE:{code:"DWE",color:"#3362CC",left:84,top:54},E2:{code:"E2",color:"#4B33CC",left:78,top:45},E3:{code:"E3",color:"#9133CC",left:74,top:37},E5:{code:"E5",color:"#CC33C0",left:80,top:23},E6:{code:"E6",color:"#CC337A",left:91,top:22},E7:{code:"E7",color:"#DB7070",left:84,top:21},ECH:{code:"ECH",color:"#DBA270",left:92,top:14},EIT:{code:"EIT",color:"#DBD370",left:64,top:38},ESC:{code:"ESC",color:"#B2DB70",left:59,top:40},EV1:{code:"EV1",color:"#81DB70",left:61,top:73},EV2:{code:"EV2",color:"#70DB91",left:55,top:78},EV3:{code:"EV3",color:"#70DBC3",left:54,top:74},EXP:{code:"EXP",color:"#70C3DB",left:31,top:16},HH:{code:"HH",color:"#7091DB",left:69,top:79},LHI:{code:"LHI",color:"#8170DB",left:33,top:20},LIB:{code:"LIB",color:"#B270DB",left:63,top:58},M3:{code:"M3",color:"#DB70D3",left:48,top:20},MC:{code:"MC",color:"#DB70A2",left:50,top:32},ML:{code:"ML",color:"#EBADAD",left:58,top:66},NH:{code:"NH",color:"#EBCAAD",left:53,top:59},PAC:{code:"PAC",color:"#EBE6AD",left:32,top:30},PAS:{code:"PAS",color:"#D3EBAD",left:62,top:86},PHY:{code:"PHY",color:"#B7EBAD",left:68,top:45},QNC:{code:"QNC",color:"#ADEBC0",left:48,top:42},RCH:{code:"RCH",color:"#ADEBDC",left:74,top:52},REN:{code:"REN",color:"#ADDCEB",left:22,top:65},SCH:{code:"SCH",color:"#ADC0EB",left:78,top:64},SLC:{code:"SLC",color:"#B7ADEB",left:39,top:37},STC:{code:"STC",color:"#D3ADEB",left:54,top:48},STJ:{code:"STJ",color:"#EBADE6",left:34,top:61},UTD:{code:"UTD",color:"#EBADCA",left:31,top:80}},qt="/schedule-generator/assets/winter_map-Dq3tVD8x.png",zt="/schedule-generator/assets/spring_map-C_QnZFi1.png",Nt="/schedule-generator/assets/fall_map-BiScejj8.png";function Gt({buildingMarkers:e}){const{croppedTop:t,croppedLeft:n,scale:r,containerWidth:o}=et(()=>{const l=Math.min(...e.map(M=>M.top)),u=Math.max(...e.map(M=>M.top)),_=Math.min(...e.map(M=>M.left)),a=Math.max(...e.map(M=>M.left)),h=Math.max(0,l-10),d=Math.min(100,u+10),y=Math.max(0,_-10),E=Math.min(100,a+10),w=d-h,p=E-y,m=1e3,D=320,T=320,k=640,R=w/100*1e3,F=p/100*1e3;let P=D/R,x=F*P,I=D;x<T&&(x=T),x>k&&(P=k/F,x=k);const C=m/100*P,A=F*P,_t=(x-A)/(2*C),ft=x/C;let re=y-_t;const ht=100-ft;re=Math.max(0,Math.min(ht,re));const dt=R*P,pt=(I-dt)/(2*C),mt=I/C;let oe=h-pt;const gt=100-mt;return oe=Math.max(0,Math.min(gt,oe)),{croppedTop:oe,croppedLeft:re,scale:P,containerWidth:x}},[e]),i=320,s=pe(),c={winter:qt,spring:zt,fall:Nt};return f("div",{id:"schedule-map",style:{width:`${o}px`,height:`${i}px`},children:[f("img",{src:c[s],alt:"campus map",style:{width:"1000px",height:"1000px",transform:`
                        translate(-${n*10*r}px, -${t*10*r}px)
                        scale(${r})
                    `}}),e.map(l=>{const u=(l.top-t)*10*r,_=(l.left-n)*10*r;return f("div",{class:"building-marker",style:{backgroundColor:l.color,left:_,top:u},title:l.code,children:f("span",{style:{color:l.color},children:l.code.toLowerCase()})},l.code)})]})}function Xt({index:e,session:t,baseHeight:n}){const r=Ft(t.name,t.type),{position:o,height:i}=Ut(t,n),{roomHeight:s,nameHeight:c,timeHeight:l}=Ot(n);return f("div",{class:"session-box",style:{backgroundColor:r.background,top:`${o}px`,height:`${i}px`},children:[f("span",{class:"room",style:{color:r.secondaryText,fontSize:`${s/1.2}px`,lineHeight:`${s}px`},children:t.room}),f("span",{class:"name",style:{color:r.primaryText,fontSize:`${c/1.2}px`,lineHeight:`${c}px`},children:[t.type,": ",t.name]}),f("span",{class:"time",style:{color:r.secondaryText,fontSize:`${l/1.2}px`,lineHeight:`${l}px`},children:[ke(t.startTime)," - ",ke(t.endTime)]})]},e)}function Yt(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}const Qt=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function L(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let U=null;function nt(e={}){return U||(e.includeStyleProperties?(U=e.includeStyleProperties,U):(U=L(window.getComputedStyle(document.documentElement)),U))}function J(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function Jt(e){const t=J(e,"border-left-width"),n=J(e,"border-right-width");return e.clientWidth+t+n}function Kt(e){const t=J(e,"border-top-width"),n=J(e,"border-bottom-width");return e.clientHeight+t+n}function rt(e,t={}){const n=t.width||Jt(e),r=t.height||Kt(e);return{width:n,height:r}}function Zt(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const $=16384;function en(e){(e.width>$||e.height>$)&&(e.width>$&&e.height>$?e.width>e.height?(e.height*=$/e.width,e.width=$):(e.width*=$/e.height,e.height=$):e.width>$?(e.height*=$/e.width,e.width=$):(e.width*=$/e.height,e.height=$))}function K(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function tn(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function nn(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),tn(o)}const S=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||S(n,t)};function rn(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function on(e,t){return nt(t).map(n=>{const r=e.getPropertyValue(n),o=e.getPropertyPriority(n);return`${n}: ${r}${o?" !important":""};`}).join(" ")}function sn(e,t,n,r){const o=`.${e}:${t}`,i=n.cssText?rn(n):on(n,r);return document.createTextNode(`${o}{${i}}`)}function Ae(e,t,n,r){const o=window.getComputedStyle(e,n),i=o.getPropertyValue("content");if(i===""||i==="none")return;const s=Qt();try{t.className=`${t.className} ${s}`}catch{return}const c=document.createElement("style");c.appendChild(sn(s,n,o,r)),t.appendChild(c)}function cn(e,t,n){Ae(e,t,":before",n),Ae(e,t,":after",n)}const Me="application/font-woff",Be="image/jpeg",ln={woff:Me,woff2:Me,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Be,jpeg:Be,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function an(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function me(e){const t=an(e).toLowerCase();return ln[t]||""}function un(e){return e.split(/,/)[1]}function ue(e){return e.search(/^(data:)/)!==-1}function _n(e,t){return`data:${t};base64,${e}`}async function ot(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise((i,s)=>{const c=new FileReader;c.onerror=s,c.onloadend=()=>{try{i(n({res:r,result:c.result}))}catch(l){s(l)}},c.readAsDataURL(o)})}const se={};function fn(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function ge(e,t,n){const r=fn(e,t,n.includeQueryParams);if(se[r]!=null)return se[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let o;try{const i=await ot(e,n.fetchRequestInit,({res:s,result:c})=>(t||(t=s.headers.get("Content-Type")||""),un(c)));o=_n(i,t)}catch(i){o=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;i&&(s=typeof i=="string"?i:i.message),s&&console.warn(s)}return se[r]=o,o}async function hn(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):K(t)}async function dn(e,t){if(e.currentSrc){const i=document.createElement("canvas"),s=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,s==null||s.drawImage(e,0,0,i.width,i.height);const c=i.toDataURL();return K(c)}const n=e.poster,r=me(n),o=await ge(n,r,t);return K(o)}async function pn(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await ne(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function mn(e,t){return S(e,HTMLCanvasElement)?hn(e):S(e,HTMLVideoElement)?dn(e,t):S(e,HTMLIFrameElement)?pn(e,t):e.cloneNode(it(e))}const gn=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",it=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function yn(e,t,n){var r,o;if(it(t))return t;let i=[];return gn(e)&&e.assignedNodes?i=L(e.assignedNodes()):S(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?i=L(e.contentDocument.body.childNodes):i=L(((o=e.shadowRoot)!==null&&o!==void 0?o:e).childNodes),i.length===0||S(e,HTMLVideoElement)||await i.reduce((s,c)=>s.then(()=>ne(c,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function wn(e,t,n){const r=t.style;if(!r)return;const o=window.getComputedStyle(e);o.cssText?(r.cssText=o.cssText,r.transformOrigin=o.transformOrigin):nt(n).forEach(i=>{let s=o.getPropertyValue(i);i==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),S(e,HTMLIFrameElement)&&i==="display"&&s==="inline"&&(s="block"),i==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(i,s,o.getPropertyPriority(i))})}function vn(e,t){S(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),S(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function bn(e,t){if(S(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(o=>e.value===o.getAttribute("value"));r&&r.setAttribute("selected","")}}function Cn(e,t,n){return S(t,Element)&&(wn(e,t,n),cn(e,t,n),vn(e,t),bn(e,t)),t}async function Sn(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const c=n[i].getAttribute("xlink:href");if(c){const l=e.querySelector(c),u=document.querySelector(c);!l&&u&&!r[c]&&(r[c]=await ne(u,t,!0))}}const o=Object.values(r);if(o.length){const i="http://www.w3.org/1999/xhtml",s=document.createElementNS(i,"svg");s.setAttribute("xmlns",i),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const c=document.createElementNS(i,"defs");s.appendChild(c);for(let l=0;l<o.length;l++)c.appendChild(o[l]);e.appendChild(s)}return e}async function ne(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>mn(r,t)).then(r=>yn(e,r,t)).then(r=>Cn(e,r,t)).then(r=>Sn(r,t))}const st=/url\((['"]?)([^'"]+?)\1\)/g,En=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,xn=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function $n(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Tn(e){const t=[];return e.replace(st,(n,r,o)=>(t.push(o),n)),t.filter(n=>!ue(n))}async function Pn(e,t,n,r,o){try{const i=n?Yt(t,n):t,s=me(t);let c;return o||(c=await ge(i,s,r)),e.replace($n(t),`$1${c}$3`)}catch{}return e}function Hn(e,{preferredFontFormat:t}){return t?e.replace(xn,n=>{for(;;){const[r,,o]=En.exec(n)||[];if(!o)return"";if(o===t)return`src: ${r};`}}):e}function ct(e){return e.search(st)!==-1}async function lt(e,t,n){if(!ct(e))return e;const r=Hn(e,n);return Tn(r).reduce((i,s)=>i.then(c=>Pn(c,s,t,n)),Promise.resolve(r))}async function O(e,t,n){var r;const o=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(o){const i=await lt(o,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function Dn(e,t){await O("background",e,t)||await O("background-image",e,t),await O("mask",e,t)||await O("-webkit-mask",e,t)||await O("mask-image",e,t)||await O("-webkit-mask-image",e,t)}async function kn(e,t){const n=S(e,HTMLImageElement);if(!(n&&!ue(e.src))&&!(S(e,SVGImageElement)&&!ue(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,o=await ge(r,me(r),t);await new Promise((i,s)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...l)=>{try{i(t.onImageErrorHandler(...l))}catch(u){s(u)}}:s;const c=e;c.decode&&(c.decode=i),c.loading==="lazy"&&(c.loading="eager"),n?(e.srcset="",e.src=o):e.href.baseVal=o})}async function Rn(e,t){const r=L(e.childNodes).map(o=>at(o,t));await Promise.all(r).then(()=>e)}async function at(e,t){S(e,Element)&&(await Dn(e,t),await kn(e,t),await Rn(e,t))}function Ln(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(o=>{n[o]=r[o]}),e}const Fe={};async function Ie(e){let t=Fe[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},Fe[e]=t,t}async function Ue(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,i=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let c=s.replace(r,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),ot(c,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(i).then(()=>n)}function Oe(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=o.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(o,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(s,"gi");for(;;){let l=i.exec(r);if(l===null){if(l=c.exec(r),l===null)break;i.lastIndex=c.lastIndex}else c.lastIndex=i.lastIndex;t.push(l[0])}return t}async function An(e,t){const n=[],r=[];return e.forEach(o=>{if("cssRules"in o)try{L(o.cssRules||[]).forEach((i,s)=>{if(i.type===CSSRule.IMPORT_RULE){let c=s+1;const l=i.href,u=Ie(l).then(_=>Ue(_,t)).then(_=>Oe(_).forEach(a=>{try{o.insertRule(a,a.startsWith("@import")?c+=1:o.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:a,error:h})}})).catch(_=>{console.error("Error loading remote css",_.toString())});r.push(u)}})}catch(i){const s=e.find(c=>c.href==null)||document.styleSheets[0];o.href!=null&&r.push(Ie(o.href).then(c=>Ue(c,t)).then(c=>Oe(c).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(o=>{if("cssRules"in o)try{L(o.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${o.href}`,i)}}),n))}function Mn(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>ct(t.style.getPropertyValue("src")))}async function Bn(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=L(e.ownerDocument.styleSheets),r=await An(n,t);return Mn(r)}function ut(e){return e.trim().replace(/["']/g,"")}function Fn(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(i=>{t.add(ut(i))}),Array.from(r.children).forEach(i=>{i instanceof HTMLElement&&n(i)})}return n(e),t}async function In(e,t){const n=await Bn(e,t),r=Fn(e);return(await Promise.all(n.filter(i=>r.has(ut(i.style.fontFamily))).map(i=>{const s=i.parentStyleSheet?i.parentStyleSheet.href:null;return lt(i.cssText,s,t)}))).join(`
`)}async function Un(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await In(e,t);if(n){const r=document.createElement("style"),o=document.createTextNode(n);r.appendChild(o),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function On(e,t={}){const{width:n,height:r}=rt(e,t),o=await ne(e,t,!0);return await Un(o,t),await at(o,t),Ln(o,t),await nn(o,n,r)}async function Vn(e,t={}){const{width:n,height:r}=rt(e,t),o=await On(e,t),i=await K(o),s=document.createElement("canvas"),c=s.getContext("2d"),l=t.pixelRatio||Zt(),u=t.canvasWidth||n,_=t.canvasHeight||r;return s.width=u*l,s.height=_*l,t.skipAutoScale||en(s),s.style.width=`${u}`,s.style.height=`${_}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,s.width,s.height)),c.drawImage(i,0,0,s.width,s.height),s}async function Wn(e,t={}){return(await Vn(e,t)).toDataURL()}function jn({courses:e,scheduleTitle:t,showSchedule:n}){const r=pe(),o=It(e),i=1056/o,s=Vt(o,i),c=Wt(e),l=Tt(null);return f("div",{id:"schedule",class:`${n?"show":""}`,children:[f("h2",{children:"schedule"}),f("div",{id:"download-schedule",children:[f("span",{children:"download schedule as"}),f("div",{id:"download-buttons",children:f("button",{type:"button",onClick:async()=>{if(l.current)try{l.current.classList.add("full-scale"),await new Promise(h=>requestAnimationFrame(()=>requestAnimationFrame(h)));const _=await Wn(l.current,{cacheBust:!0,pixelRatio:2});l.current.classList.remove("full-scale");const a=document.createElement("a");a.download=`${t}_schedule.png`,a.href=_,a.click()}catch{console.error("Failed to export schedule")}},children:"png"})})]}),f("div",{ref:l,id:"schedule-wrapper",children:[f("div",{id:"schedule-header",children:[f("div",{id:"schedule-title",class:r,children:[f("h3",{children:t.toLowerCase()}),f("h4",{children:"timetable"})]}),c.length>0&&f(Gt,{buildingMarkers:c})]}),f("div",{id:"schedule-body",children:[Object.entries(At(e)).map(([_,a])=>f("div",{class:`day-column ${r}`,style:{height:"1184px"},children:[f("div",{class:"day-header",children:_}),a.filter(jt).map((h,d)=>f(Xt,{index:d,session:h,baseHeight:i}))]},_)),s.map((_,a)=>f("div",{class:"hour-marker",style:{top:`${_.position}px`},children:[f("span",{class:"hour-marker-text",children:_.text}),f("div",{class:"hour-marker-line"})]},a))]})]})]})}function qn(){const[e,t]=q([]),[n,r]=q(""),[o,i]=q(!1),[s,c]=q(!1),l=()=>{const h={id:crypto.randomUUID(),name:"",sessions:[]};t([...e,h])},u=(h,d)=>{t(e.map(y=>y.id===h?d:y))},_=h=>{t(e.filter(d=>d.id!==h))},a=()=>{i(!0),setTimeout(()=>{c(!0)},20),setTimeout(()=>{const h=document.getElementById("schedule");if(h){const d=h.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:d,behavior:"smooth"})}},300)};return f("div",{id:"container",children:[f("h1",{children:"waterloo schedule generator"}),f("div",{id:"title-wrapper",class:"input-wrapper centered-input",children:[f("label",{children:"schedule name"}),f("input",{type:"text",placeholder:De(),value:n,onInput:h=>r(h.target.value.toLowerCase())})]}),f("div",{id:"schedule-inputs",children:e.length===0?f("p",{children:"No courses added yet."}):e.map(h=>f(Lt,{course:h,onUpdate:d=>u(h.id,d),onDelete:()=>_(h.id)},h.id))}),f("button",{type:"button",onClick:l,children:"+ add course"}),f("button",{type:"button",onClick:a,children:"generate schedule"}),o&&f(jn,{courses:e,scheduleTitle:n||De(),showSchedule:s})]})}Et(f(qn,{}),document.getElementById("app"));
