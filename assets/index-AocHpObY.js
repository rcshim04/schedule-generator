(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var J,g,Ie,R,pe,Ue,Oe,Ve,le,oe,ie,O={},We=[],lt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,K=Array.isArray;function k(e,t){for(var n in t)e[n]=t[n];return e}function ae(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function at(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?J.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]==null&&(s[i]=e.defaultProps[i]);return j(e,s,r,o,null)}function j(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Ie,__i:-1,__u:0};return o==null&&g.vnode!=null&&g.vnode(i),i}function Z(e){return e.children}function q(e,t){this.props=e,this.context=t}function F(e,t){if(t==null)return e.__?F(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?F(e):null}function je(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return je(e)}}function me(e){(!e.__d&&(e.__d=!0)&&R.push(e)&&!N.__r++||pe!=g.debounceRendering)&&((pe=g.debounceRendering)||Ue)(N)}function N(){for(var e,t,n,r,o,i,s,c=1;R.length;)R.length>c&&R.sort(Oe),e=R.shift(),c=R.length,e.__d&&(n=void 0,o=(r=(t=e).__v).__e,i=[],s=[],t.__P&&((n=k({},r)).__v=r.__v+1,g.vnode&&g.vnode(n),ue(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,i,o??F(r),!!(32&r.__u),s),n.__v=r.__v,n.__.__k[n.__i]=n,Ne(i,n,s),n.__e!=o&&je(n)));N.__r=0}function qe(e,t,n,r,o,i,s,c,l,u,_){var a,h,d,y,S,w,p=r&&r.__k||We,m=t.length;for(l=ut(n,t,p,l,m),a=0;a<m;a++)(d=n.__k[a])!=null&&(h=d.__i==-1?O:p[d.__i]||O,d.__i=a,w=ue(e,d,h,o,i,s,c,l,u,_),y=d.__e,d.ref&&h.ref!=d.ref&&(h.ref&&_e(h.ref,null,d),_.push(d.ref,d.__c||y,d)),S==null&&y!=null&&(S=y),4&d.__u||h.__k===d.__k?l=ze(d,l,e):typeof d.type=="function"&&w!==void 0?l=w:y&&(l=y.nextSibling),d.__u&=-7);return n.__e=S,l}function ut(e,t,n,r,o){var i,s,c,l,u,_=n.length,a=_,h=0;for(e.__k=new Array(o),i=0;i<o;i++)(s=t[i])!=null&&typeof s!="boolean"&&typeof s!="function"?(l=i+h,(s=e.__k[i]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?j(null,s,null,null,null):K(s)?j(Z,{children:s},null,null,null):s.constructor==null&&s.__b>0?j(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=e,s.__b=e.__b+1,c=null,(u=s.__i=_t(s,n,l,a))!=-1&&(a--,(c=n[u])&&(c.__u|=2)),c==null||c.__v==null?(u==-1&&(o>_?h--:o<_&&h++),typeof s.type!="function"&&(s.__u|=4)):u!=l&&(u==l-1?h--:u==l+1?h++:(u>l?h--:h++,s.__u|=4))):e.__k[i]=null;if(a)for(i=0;i<_;i++)(c=n[i])!=null&&(2&c.__u)==0&&(c.__e==r&&(r=F(c)),Xe(c,c));return r}function ze(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=ze(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=F(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function _t(e,t,n,r){var o,i,s=e.key,c=e.type,l=t[n];if(l===null&&e.key==null||l&&s==l.key&&c==l.type&&(2&l.__u)==0)return n;if(r>(l!=null&&(2&l.__u)==0?1:0))for(o=n-1,i=n+1;o>=0||i<t.length;){if(o>=0){if((l=t[o])&&(2&l.__u)==0&&s==l.key&&c==l.type)return o;o--}if(i<t.length){if((l=t[i])&&(2&l.__u)==0&&s==l.key&&c==l.type)return i;i++}}return-1}function ge(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||lt.test(t)?n:n+"px"}function V(e,t,n,r,o){var i;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ge(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||ge(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")i=t!=(t=t.replace(Ve,"$1")),t=t.toLowerCase()in e||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=le,e.addEventListener(t,i?ie:oe,i)):e.removeEventListener(t,i?ie:oe,i);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function ye(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=le++;else if(t.t<n.u)return;return n(g.event?g.event(t):t)}}}function ue(e,t,n,r,o,i,s,c,l,u){var _,a,h,d,y,S,w,p,m,P,$,A,D,L,x,I,te,T=t.type;if(t.constructor!=null)return null;128&n.__u&&(l=!!(32&n.__u),i=[c=t.__e=n.__e]),(_=g.__b)&&_(t);e:if(typeof T=="function")try{if(p=t.props,m="prototype"in T&&T.prototype.render,P=(_=T.contextType)&&r[_.__c],$=_?P?P.props.value:_.__:r,n.__c?w=(a=t.__c=n.__c).__=a.__E:(m?t.__c=a=new T(p,$):(t.__c=a=new q(p,$),a.constructor=T,a.render=ht),P&&P.sub(a),a.props=p,a.state||(a.state={}),a.context=$,a.__n=r,h=a.__d=!0,a.__h=[],a._sb=[]),m&&a.__s==null&&(a.__s=a.state),m&&T.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=k({},a.__s)),k(a.__s,T.getDerivedStateFromProps(p,a.__s))),d=a.props,y=a.state,a.__v=t,h)m&&T.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),m&&a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(m&&T.getDerivedStateFromProps==null&&p!==d&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(p,$),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(p,a.__s,$)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(a.props=p,a.state=a.__s,a.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(U){U&&(U.__=t)}),A=0;A<a._sb.length;A++)a.__h.push(a._sb[A]);a._sb=[],a.__h.length&&s.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(p,a.__s,$),m&&a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(d,y,S)})}if(a.context=$,a.props=p,a.__P=e,a.__e=!1,D=g.__r,L=0,m){for(a.state=a.__s,a.__d=!1,D&&D(t),_=a.render(a.props,a.state,a.context),x=0;x<a._sb.length;x++)a.__h.push(a._sb[x]);a._sb=[]}else do a.__d=!1,D&&D(t),_=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++L<25);a.state=a.__s,a.getChildContext!=null&&(r=k(k({},r),a.getChildContext())),m&&!h&&a.getSnapshotBeforeUpdate!=null&&(S=a.getSnapshotBeforeUpdate(d,y)),I=_,_!=null&&_.type===Z&&_.key==null&&(I=Ge(_.props.children)),c=qe(e,K(I)?I:[I],t,n,r,o,i,s,c,l,u),a.base=t.__e,t.__u&=-161,a.__h.length&&s.push(a),w&&(a.__E=a.__=null)}catch(U){if(t.__v=null,l||i!=null)if(U.then){for(t.__u|=l?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;i[i.indexOf(c)]=null,t.__e=c}else for(te=i.length;te--;)ae(i[te]);else t.__e=n.__e,t.__k=n.__k;g.__e(U,t,n)}else i==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):c=t.__e=ft(n.__e,t,n,r,o,i,s,l,u);return(_=g.diffed)&&_(t),128&t.__u?void 0:c}function Ne(e,t,n){for(var r=0;r<n.length;r++)_e(n[r],n[++r],n[++r]);g.__c&&g.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){g.__e(i,o.__v)}})}function Ge(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:K(e)?e.map(Ge):k({},e)}function ft(e,t,n,r,o,i,s,c,l){var u,_,a,h,d,y,S,w=n.props,p=t.props,m=t.type;if(m=="svg"?o="http://www.w3.org/2000/svg":m=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((d=i[u])&&"setAttribute"in d==!!m&&(m?d.localName==m:d.nodeType==3)){e=d,i[u]=null;break}}if(e==null){if(m==null)return document.createTextNode(p);e=document.createElementNS(o,m,p.is&&p),c&&(g.__m&&g.__m(t,i),c=!1),i=null}if(m==null)w===p||c&&e.data==p||(e.data=p);else{if(i=i&&J.call(e.childNodes),w=n.props||O,!c&&i!=null)for(w={},u=0;u<e.attributes.length;u++)w[(d=e.attributes[u]).name]=d.value;for(u in w)if(d=w[u],u!="children"){if(u=="dangerouslySetInnerHTML")a=d;else if(!(u in p)){if(u=="value"&&"defaultValue"in p||u=="checked"&&"defaultChecked"in p)continue;V(e,u,null,d,o)}}for(u in p)d=p[u],u=="children"?h=d:u=="dangerouslySetInnerHTML"?_=d:u=="value"?y=d:u=="checked"?S=d:c&&typeof d!="function"||w[u]===d||V(e,u,d,w[u],o);if(_)c||a&&(_.__html==a.__html||_.__html==e.innerHTML)||(e.innerHTML=_.__html),t.__k=[];else if(a&&(e.innerHTML=""),qe(t.type=="template"?e.content:e,K(h)?h:[h],t,n,r,m=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,s,i?i[0]:n.__k&&F(n,0),c,l),i!=null)for(u=i.length;u--;)ae(i[u]);c||(u="value",m=="progress"&&y==null?e.removeAttribute("value"):y!=null&&(y!==e[u]||m=="progress"&&!y||m=="option"&&y!=w[u])&&V(e,u,y,w[u],o),u="checked",S!=null&&S!=e[u]&&V(e,u,S,w[u],o))}return e}function _e(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){g.__e(o,n)}}function Xe(e,t,n){var r,o;if(g.unmount&&g.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||_e(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){g.__e(i,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Xe(r[o],t,n||typeof e.type!="function");n||ae(e.__e),e.__c=e.__=e.__e=void 0}function ht(e,t,n){return this.constructor(e,n)}function dt(e,t,n){var r,o,i,s;t==document&&(t=document.documentElement),g.__&&g.__(e,t),o=(r=!1)?null:t.__k,i=[],s=[],ue(t,e=t.__k=at(Z,null,[e]),o||O,O,t.namespaceURI,o?null:t.firstChild?J.call(t.childNodes):null,i,o?o.__e:t.firstChild,r,s),Ne(i,e,s)}J=We.slice,g={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(c){e=c}throw e}},Ie=0,q.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=k({},this.state),typeof e=="function"&&(e=e(k({},n),this.props)),e&&k(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),me(this))},q.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),me(this))},q.prototype.render=Z,R=[],Ue=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Oe=function(e,t){return e.__v.__b-t.__v.__b},N.__r=0,Ve=/(PointerCapture)$|Capture$/i,le=0,oe=ye(!1),ie=ye(!0);var pt=0;function f(e,t,n,r,o,i){t||(t={});var s,c,l=t;if("ref"in l)for(c in l={},t)c=="ref"?s=t[c]:l[c]=t[c];var u={type:e,props:l,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--pt,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(s=e.defaultProps))for(c in s)l[c]===void 0&&(l[c]=s[c]);return g.vnode&&g.vnode(u),u}var G,v,ne,we,X=0,Ye=[],b=g,ve=b.__b,be=b.__r,Ce=b.diffed,Se=b.__c,Ee=b.unmount,xe=b.__;function Qe(e,t){b.__h&&b.__h(v,e,X||t),X=0;var n=v.__H||(v.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function W(e){return X=1,mt(Ke,e)}function mt(e,t,n){var r=Qe(G++,2);if(r.t=e,!r.__c&&(r.__=[Ke(void 0,t),function(c){var l=r.__N?r.__N[0]:r.__[0],u=r.t(l,c);l!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=v,!v.__f)){var o=function(c,l,u){if(!r.__c.__H)return!0;var _=r.__c.__H.__.filter(function(h){return!!h.__c});if(_.every(function(h){return!h.__N}))return!i||i.call(this,c,l,u);var a=r.__c.props!==c;return _.forEach(function(h){if(h.__N){var d=h.__[0];h.__=h.__N,h.__N=void 0,d!==h.__[0]&&(a=!0)}}),i&&i.call(this,c,l,u)||a};v.__f=!0;var i=v.shouldComponentUpdate,s=v.componentWillUpdate;v.componentWillUpdate=function(c,l,u){if(this.__e){var _=i;i=void 0,o(c,l,u),i=_}s&&s.call(this,c,l,u)},v.shouldComponentUpdate=o}return r.__N||r.__}function gt(e){return X=5,Je(function(){return{current:e}},[])}function Je(e,t){var n=Qe(G++,7);return vt(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function yt(){for(var e;e=Ye.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(z),e.__H.__h.forEach(se),e.__H.__h=[]}catch(t){e.__H.__h=[],b.__e(t,e.__v)}}b.__b=function(e){v=null,ve&&ve(e)},b.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),xe&&xe(e,t)},b.__r=function(e){be&&be(e),G=0;var t=(v=e.__c).__H;t&&(ne===v?(t.__h=[],v.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(z),t.__h.forEach(se),t.__h=[],G=0)),ne=v},b.diffed=function(e){Ce&&Ce(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Ye.push(t)!==1&&we===b.requestAnimationFrame||((we=b.requestAnimationFrame)||wt)(yt)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),ne=v=null},b.__c=function(e,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(r){return!r.__||se(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],b.__e(r,n.__v)}}),Se&&Se(e,t)},b.unmount=function(e){Ee&&Ee(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{z(r)}catch(o){t=o}}),n.__H=void 0,t&&b.__e(t,n.__v))};var $e=typeof requestAnimationFrame=="function";function wt(e){var t,n=function(){clearTimeout(r),$e&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);$e&&(t=requestAnimationFrame(n))}function z(e){var t=v,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),v=t}function se(e){var t=v;e.__c=e.__(),v=t}function vt(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Ke(e,t){return typeof t=="function"?t(e):t}const bt=["mon","tue","wed","thu","fri","sat","sun"],Ct=["lec","tut","lab"];function St({course:e,onUpdate:t,onDelete:n}){const r=c=>{const l=c.target.value.toLowerCase(),u=e.sessions.map(_=>({..._,name:l}));t({...e,name:l,sessions:u})},o=(c,l,u)=>{const _=[...e.sessions];_[c]={..._[c],[l]:u.toLowerCase()},t({...e,sessions:_})},i=()=>{t({...e,sessions:[...e.sessions,{day:"mon",startTime:"",endTime:"",room:"",type:"lec",name:e.name}]})},s=c=>{const l=e.sessions.filter((u,_)=>_!==c);t({...e,sessions:l})};return f("div",{class:"course-card",children:[f("div",{class:"input-wrapper centered-input",children:[f("label",{children:"course name or code"}),f("input",{type:"text",placeholder:"e.g. syde 381",minlength:2,maxlength:16,value:e.name,onInput:r,required:!0})]}),f("div",{class:"session-container",children:[e.sessions.map((c,l)=>f("div",{class:"session",children:[f("div",{class:"session-inputs",children:[f("div",{class:"input-wrapper",children:[f("label",{children:"type"}),f("select",{value:c.type,onInput:u=>o(l,"type",u.target.value),children:Ct.map(u=>f("option",{value:u,children:u},u))})]}),f("div",{class:"input-wrapper",children:[f("label",{children:"day"}),f("select",{value:c.day,onInput:u=>o(l,"day",u.target.value),children:bt.map(u=>f("option",{value:u,children:u},u))})]}),f("div",{class:"input-wrapper",children:[f("label",{children:"room"}),f("input",{type:"text",placeholder:"e.g. e7 4417",minlength:2,maxlength:10,value:c.room,onInput:u=>o(l,"room",u.target.value),required:!0})]}),f("div",{class:"input-wrapper",children:[f("label",{children:"start time"}),f("input",{type:"time",min:"08:30",max:"21:00",value:c.startTime,onInput:u=>o(l,"startTime",u.target.value),required:!0})]}),f("div",{class:"input-wrapper",children:[f("label",{children:"end time"}),f("input",{type:"time",min:"09:20",max:"21:50",value:c.endTime,onInput:u=>o(l,"endTime",u.target.value),required:!0})]})]}),f("button",{type:"button",onClick:()=>s(l),children:"× remove"})]},l)),f("button",{type:"button",onClick:i,children:"+ add day/time"})]}),f("div",{children:f("button",{type:"button",onClick:n,children:"− delete course"})})]})}const Te=()=>{const e=new Date,t=e.getMonth(),n=e.getFullYear();return t>=2&&t<=5?`spring ${n}`:t>=6&&t<=9?`fall ${n}`:`winter ${n}`},fe=()=>{const e=new Date().getMonth();return e>=2&&e<=5?"spring":e>=6&&e<=9?"fall":"winter"},Et=e=>{const t={mon:[],tue:[],wed:[],thu:[],fri:[],sat:[],sun:[]};for(let n of e)for(let r of n.sessions)t[r.day].push(r);return!t.sat.length&&!t.sun.length?Object.fromEntries(Object.entries(t).filter(([n])=>!["sat","sun"].includes(n))):t.sat.length?t:Object.fromEntries(Object.entries(t).filter(([n])=>!["sat"].includes(n)))},Pe=e=>{const[t,n]=e.split(":");let r=Number(t);return r%=12,r===0&&(r=12),`${r}:${n||"00"}`},xt=(e,t)=>{const n=Math.abs(e-t);return Math.min(n,360-n)},$t=(e,t)=>{const n=Math.abs(e.l-t.l),r=xt(e.h,t.h);return n<10&&r<45},Tt=(e,t)=>{const n={winter:{h:200,s:68,l:86},spring:{h:124,s:70,l:85},fall:{h:27,s:88,l:81}};let r=0;for(let _=0;_<e.length;_++)r=e.charCodeAt(_)+((r<<5)-r);let o=Math.abs(r)%360,i=90;t==="lec"&&(i=80),t==="lab"&&(i=70);const s=70;$t(n[fe()],{h:o,l:80})&&(o=(o+180)%360);const c=`hsl(${o}, ${s}%, ${i}%)`,l=`hsl(${o}, ${s}%, ${i-40}%)`,u=`hsl(${o}, ${s}%, ${i-24}%)`;return{background:c,primaryText:l,secondaryText:u}},Pt=e=>{let t=17;for(let n of e)for(let r of n.sessions){const[o,i]=r.endTime.split(":").map(Number),s=o+(i>0?1:0);t=Math.max(t,s)}return t-8},Dt=(e,t)=>{const[n,r]=e.startTime.split(":").map(Number),[o,i]=e.endTime.split(":").map(Number),s=n+r/60,c=o+i/60;return{position:t*(s-8)+64,height:t*(c-s)}},kt=e=>{const t=e*5/6-16,n=Math.min(t*.32,20),r=Math.min(t*.44,28),o=Math.min(t*.24,16);return{roomHeight:n,nameHeight:r,timeHeight:o}},Ht=(e,t)=>{const n=[];for(let r=8;r<=8+e;r++){let o=r%12;o===0&&(o=12);const i=r>=12?"p":"a",s=t*(r-8)+112;n.push({text:`${o}${i}`,position:s})}return n},At=e=>{const t=[],n=[];for(let r of e)for(let o of r.sessions){const i=o.room.split(" ")[0].toUpperCase();Object.keys(ke).includes(i)&&!t.includes(i)&&(t.push(i),n.push(ke[i]))}return n},De=e=>{const[t,n]=e.split(":").map(Number);return t*60+n},Rt=e=>{if(!e.name||!e.room||!e.startTime||!e.endTime)return!1;const t=De(e.startTime),n=De(e.endTime);return t<n},ke={AL:{code:"AL",color:"#CC3333",left:66,top:67},B1:{code:"B1",color:"#CC7A33",left:57,top:47},B2:{code:"B2",color:"#CCC033",left:51,top:46},BMH:{code:"BMH",color:"#91CC33",left:40,top:13},C2:{code:"C2",color:"#4BCC33",left:57,top:33},CGR:{code:"CGR",color:"#33CC62",left:42,top:95},CPH:{code:"CPH",color:"#33CCA9",left:86,top:45},DC:{code:"DC",color:"#33A9CC",left:64,top:26},DWE:{code:"DWE",color:"#3362CC",left:84,top:54},E2:{code:"E2",color:"#4B33CC",left:78,top:45},E3:{code:"E3",color:"#9133CC",left:74,top:37},E5:{code:"E5",color:"#CC33C0",left:80,top:23},E6:{code:"E6",color:"#CC337A",left:91,top:22},E7:{code:"E7",color:"#DB7070",left:84,top:21},ECH:{code:"ECH",color:"#DBA270",left:92,top:14},EIT:{code:"EIT",color:"#DBD370",left:64,top:38},ESC:{code:"ESC",color:"#B2DB70",left:59,top:40},EV1:{code:"EV1",color:"#81DB70",left:61,top:73},EV2:{code:"EV2",color:"#70DB91",left:55,top:78},EV3:{code:"EV3",color:"#70DBC3",left:54,top:74},EXP:{code:"EXP",color:"#70C3DB",left:31,top:16},HH:{code:"HH",color:"#7091DB",left:69,top:79},LHI:{code:"LHI",color:"#8170DB",left:33,top:20},LIB:{code:"LIB",color:"#B270DB",left:63,top:58},M3:{code:"M3",color:"#DB70D3",left:48,top:20},MC:{code:"MC",color:"#DB70A2",left:50,top:32},ML:{code:"ML",color:"#EBADAD",left:58,top:66},NH:{code:"NH",color:"#EBCAAD",left:53,top:59},PAC:{code:"PAC",color:"#EBE6AD",left:32,top:30},PAS:{code:"PAS",color:"#D3EBAD",left:62,top:86},PHY:{code:"PHY",color:"#B7EBAD",left:68,top:45},QNC:{code:"QNC",color:"#ADEBC0",left:48,top:42},RCH:{code:"RCH",color:"#ADEBDC",left:74,top:52},REN:{code:"REN",color:"#ADDCEB",left:22,top:65},SCH:{code:"SCH",color:"#ADC0EB",left:78,top:64},SLC:{code:"SLC",color:"#B7ADEB",left:39,top:37},STC:{code:"STC",color:"#D3ADEB",left:54,top:48},STJ:{code:"STJ",color:"#EBADE6",left:34,top:61},UTD:{code:"UTD",color:"#EBADCA",left:31,top:80}},Lt="/schedule-generator/assets/winter_map-Dq3tVD8x.png",Mt="/schedule-generator/assets/spring_map-C_QnZFi1.png",Bt="/schedule-generator/assets/fall_map-BiScejj8.png";function Ft({buildingMarkers:e}){const{croppedTop:t,croppedLeft:n,scale:r,containerWidth:o}=Je(()=>{const l=Math.min(...e.map(x=>x.top)),u=Math.max(...e.map(x=>x.top)),_=Math.min(...e.map(x=>x.left)),a=Math.max(...e.map(x=>x.left)),h=Math.max(0,l-10),d=Math.min(100,u+10),y=Math.max(0,_-10),S=Math.min(100,a+10),w=d-h,p=S-y,m=320,P=600,$=w/100*1e3,A=p/100*1e3;let D=m/$,L=A*D;return L>P&&(D=P/A,L=P),{croppedTop:h,croppedLeft:y,scale:D,containerWidth:L}},[e]),i=320,s=fe(),c={winter:Lt,spring:Mt,fall:Bt};return f("div",{id:"schedule-map",style:{width:`${o}px`,height:`${i}px`},children:[f("img",{src:c[s],alt:"campus map",style:{width:"1000px",height:"1000px",transform:`
                        translate(-${n*10*r}px, -${t*10*r}px)
                        scale(${r})
                    `}}),e.map(l=>{const u=(l.top-t)*10*r,_=(l.left-n)*10*r;return f("div",{class:"building-marker",style:{backgroundColor:l.color,left:_,top:u},title:l.code,children:f("span",{style:{color:l.color},children:l.code.toLowerCase()})},l.code)})]})}function It({index:e,session:t,baseHeight:n}){const r=Tt(t.name,t.type),{position:o,height:i}=Dt(t,n),{roomHeight:s,nameHeight:c,timeHeight:l}=kt(n);return f("div",{class:"session-box",style:{backgroundColor:r.background,top:`${o}px`,height:`${i}px`},children:[f("span",{class:"room",style:{color:r.secondaryText,fontSize:`${s/1.2}px`,lineHeight:`${s}px`},children:t.room}),f("span",{class:"name",style:{color:r.primaryText,fontSize:`${c/1.2}px`,lineHeight:`${c}px`},children:[t.type,": ",t.name]}),f("span",{class:"time",style:{color:r.secondaryText,fontSize:`${l/1.2}px`,lineHeight:`${l}px`},children:[Pe(t.startTime)," - ",Pe(t.endTime)]})]},e)}function Ut(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}const Ot=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function H(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let M=null;function Ze(e={}){return M||(e.includeStyleProperties?(M=e.includeStyleProperties,M):(M=H(window.getComputedStyle(document.documentElement)),M))}function Y(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function Vt(e){const t=Y(e,"border-left-width"),n=Y(e,"border-right-width");return e.clientWidth+t+n}function Wt(e){const t=Y(e,"border-top-width"),n=Y(e,"border-bottom-width");return e.clientHeight+t+n}function et(e,t={}){const n=t.width||Vt(e),r=t.height||Wt(e);return{width:n,height:r}}function jt(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const E=16384;function qt(e){(e.width>E||e.height>E)&&(e.width>E&&e.height>E?e.width>e.height?(e.height*=E/e.width,e.width=E):(e.width*=E/e.height,e.height=E):e.width>E?(e.height*=E/e.width,e.width=E):(e.width*=E/e.height,e.height=E))}function Q(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function zt(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Nt(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),zt(o)}const C=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||C(n,t)};function Gt(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Xt(e,t){return Ze(t).map(n=>{const r=e.getPropertyValue(n),o=e.getPropertyPriority(n);return`${n}: ${r}${o?" !important":""};`}).join(" ")}function Yt(e,t,n,r){const o=`.${e}:${t}`,i=n.cssText?Gt(n):Xt(n,r);return document.createTextNode(`${o}{${i}}`)}function He(e,t,n,r){const o=window.getComputedStyle(e,n),i=o.getPropertyValue("content");if(i===""||i==="none")return;const s=Ot();try{t.className=`${t.className} ${s}`}catch{return}const c=document.createElement("style");c.appendChild(Yt(s,n,o,r)),t.appendChild(c)}function Qt(e,t,n){He(e,t,":before",n),He(e,t,":after",n)}const Ae="application/font-woff",Re="image/jpeg",Jt={woff:Ae,woff2:Ae,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Re,jpeg:Re,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Kt(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function he(e){const t=Kt(e).toLowerCase();return Jt[t]||""}function Zt(e){return e.split(/,/)[1]}function ce(e){return e.search(/^(data:)/)!==-1}function en(e,t){return`data:${t};base64,${e}`}async function tt(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise((i,s)=>{const c=new FileReader;c.onerror=s,c.onloadend=()=>{try{i(n({res:r,result:c.result}))}catch(l){s(l)}},c.readAsDataURL(o)})}const re={};function tn(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function de(e,t,n){const r=tn(e,t,n.includeQueryParams);if(re[r]!=null)return re[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let o;try{const i=await tt(e,n.fetchRequestInit,({res:s,result:c})=>(t||(t=s.headers.get("Content-Type")||""),Zt(c)));o=en(i,t)}catch(i){o=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;i&&(s=typeof i=="string"?i:i.message),s&&console.warn(s)}return re[r]=o,o}async function nn(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Q(t)}async function rn(e,t){if(e.currentSrc){const i=document.createElement("canvas"),s=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,s==null||s.drawImage(e,0,0,i.width,i.height);const c=i.toDataURL();return Q(c)}const n=e.poster,r=he(n),o=await de(n,r,t);return Q(o)}async function on(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await ee(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function sn(e,t){return C(e,HTMLCanvasElement)?nn(e):C(e,HTMLVideoElement)?rn(e,t):C(e,HTMLIFrameElement)?on(e,t):e.cloneNode(nt(e))}const cn=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",nt=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function ln(e,t,n){var r,o;if(nt(t))return t;let i=[];return cn(e)&&e.assignedNodes?i=H(e.assignedNodes()):C(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?i=H(e.contentDocument.body.childNodes):i=H(((o=e.shadowRoot)!==null&&o!==void 0?o:e).childNodes),i.length===0||C(e,HTMLVideoElement)||await i.reduce((s,c)=>s.then(()=>ee(c,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function an(e,t,n){const r=t.style;if(!r)return;const o=window.getComputedStyle(e);o.cssText?(r.cssText=o.cssText,r.transformOrigin=o.transformOrigin):Ze(n).forEach(i=>{let s=o.getPropertyValue(i);i==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),C(e,HTMLIFrameElement)&&i==="display"&&s==="inline"&&(s="block"),i==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(i,s,o.getPropertyPriority(i))})}function un(e,t){C(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),C(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function _n(e,t){if(C(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(o=>e.value===o.getAttribute("value"));r&&r.setAttribute("selected","")}}function fn(e,t,n){return C(t,Element)&&(an(e,t,n),Qt(e,t,n),un(e,t),_n(e,t)),t}async function hn(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const c=n[i].getAttribute("xlink:href");if(c){const l=e.querySelector(c),u=document.querySelector(c);!l&&u&&!r[c]&&(r[c]=await ee(u,t,!0))}}const o=Object.values(r);if(o.length){const i="http://www.w3.org/1999/xhtml",s=document.createElementNS(i,"svg");s.setAttribute("xmlns",i),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const c=document.createElementNS(i,"defs");s.appendChild(c);for(let l=0;l<o.length;l++)c.appendChild(o[l]);e.appendChild(s)}return e}async function ee(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>sn(r,t)).then(r=>ln(e,r,t)).then(r=>fn(e,r,t)).then(r=>hn(r,t))}const rt=/url\((['"]?)([^'"]+?)\1\)/g,dn=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,pn=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function mn(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function gn(e){const t=[];return e.replace(rt,(n,r,o)=>(t.push(o),n)),t.filter(n=>!ce(n))}async function yn(e,t,n,r,o){try{const i=n?Ut(t,n):t,s=he(t);let c;return o||(c=await de(i,s,r)),e.replace(mn(t),`$1${c}$3`)}catch{}return e}function wn(e,{preferredFontFormat:t}){return t?e.replace(pn,n=>{for(;;){const[r,,o]=dn.exec(n)||[];if(!o)return"";if(o===t)return`src: ${r};`}}):e}function ot(e){return e.search(rt)!==-1}async function it(e,t,n){if(!ot(e))return e;const r=wn(e,n);return gn(r).reduce((i,s)=>i.then(c=>yn(c,s,t,n)),Promise.resolve(r))}async function B(e,t,n){var r;const o=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(o){const i=await it(o,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function vn(e,t){await B("background",e,t)||await B("background-image",e,t),await B("mask",e,t)||await B("-webkit-mask",e,t)||await B("mask-image",e,t)||await B("-webkit-mask-image",e,t)}async function bn(e,t){const n=C(e,HTMLImageElement);if(!(n&&!ce(e.src))&&!(C(e,SVGImageElement)&&!ce(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,o=await de(r,he(r),t);await new Promise((i,s)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...l)=>{try{i(t.onImageErrorHandler(...l))}catch(u){s(u)}}:s;const c=e;c.decode&&(c.decode=i),c.loading==="lazy"&&(c.loading="eager"),n?(e.srcset="",e.src=o):e.href.baseVal=o})}async function Cn(e,t){const r=H(e.childNodes).map(o=>st(o,t));await Promise.all(r).then(()=>e)}async function st(e,t){C(e,Element)&&(await vn(e,t),await bn(e,t),await Cn(e,t))}function Sn(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(o=>{n[o]=r[o]}),e}const Le={};async function Me(e){let t=Le[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},Le[e]=t,t}async function Be(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,i=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let c=s.replace(r,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),tt(c,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(i).then(()=>n)}function Fe(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=o.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(o,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(s,"gi");for(;;){let l=i.exec(r);if(l===null){if(l=c.exec(r),l===null)break;i.lastIndex=c.lastIndex}else c.lastIndex=i.lastIndex;t.push(l[0])}return t}async function En(e,t){const n=[],r=[];return e.forEach(o=>{if("cssRules"in o)try{H(o.cssRules||[]).forEach((i,s)=>{if(i.type===CSSRule.IMPORT_RULE){let c=s+1;const l=i.href,u=Me(l).then(_=>Be(_,t)).then(_=>Fe(_).forEach(a=>{try{o.insertRule(a,a.startsWith("@import")?c+=1:o.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:a,error:h})}})).catch(_=>{console.error("Error loading remote css",_.toString())});r.push(u)}})}catch(i){const s=e.find(c=>c.href==null)||document.styleSheets[0];o.href!=null&&r.push(Me(o.href).then(c=>Be(c,t)).then(c=>Fe(c).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(o=>{if("cssRules"in o)try{H(o.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${o.href}`,i)}}),n))}function xn(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>ot(t.style.getPropertyValue("src")))}async function $n(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=H(e.ownerDocument.styleSheets),r=await En(n,t);return xn(r)}function ct(e){return e.trim().replace(/["']/g,"")}function Tn(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(i=>{t.add(ct(i))}),Array.from(r.children).forEach(i=>{i instanceof HTMLElement&&n(i)})}return n(e),t}async function Pn(e,t){const n=await $n(e,t),r=Tn(e);return(await Promise.all(n.filter(i=>r.has(ct(i.style.fontFamily))).map(i=>{const s=i.parentStyleSheet?i.parentStyleSheet.href:null;return it(i.cssText,s,t)}))).join(`
`)}async function Dn(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await Pn(e,t);if(n){const r=document.createElement("style"),o=document.createTextNode(n);r.appendChild(o),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function kn(e,t={}){const{width:n,height:r}=et(e,t),o=await ee(e,t,!0);return await Dn(o,t),await st(o,t),Sn(o,t),await Nt(o,n,r)}async function Hn(e,t={}){const{width:n,height:r}=et(e,t),o=await kn(e,t),i=await Q(o),s=document.createElement("canvas"),c=s.getContext("2d"),l=t.pixelRatio||jt(),u=t.canvasWidth||n,_=t.canvasHeight||r;return s.width=u*l,s.height=_*l,t.skipAutoScale||qt(s),s.style.width=`${u}`,s.style.height=`${_}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,s.width,s.height)),c.drawImage(i,0,0,s.width,s.height),s}async function An(e,t={}){return(await Hn(e,t)).toDataURL()}function Rn({courses:e,scheduleTitle:t,showSchedule:n}){const r=fe(),o=Pt(e),i=1056/o,s=Ht(o,i),c=At(e),l=gt(null);return f("div",{id:"schedule",class:`${n?"show":""}`,children:[f("h2",{children:"schedule"}),f("div",{id:"download-schedule",children:[f("span",{children:"download schedule as"}),f("div",{id:"download-buttons",children:f("button",{type:"button",onClick:async()=>{if(l.current)try{l.current.classList.add("full-scale"),await new Promise(h=>requestAnimationFrame(()=>requestAnimationFrame(h)));const _=await An(l.current,{cacheBust:!0,pixelRatio:2});l.current.classList.remove("full-scale");const a=document.createElement("a");a.download=`${t}_schedule.png`,a.href=_,a.click()}catch{console.error("Failed to export schedule")}},children:"png"})})]}),f("div",{ref:l,id:"schedule-wrapper",children:[f("div",{id:"schedule-header",children:[f("div",{id:"schedule-title",class:r,children:[f("h3",{children:t.toLowerCase()}),f("h4",{children:"timetable"})]}),c.length>0&&f(Ft,{buildingMarkers:c})]}),f("div",{id:"schedule-body",children:[Object.entries(Et(e)).map(([_,a])=>f("div",{class:`day-column ${r}`,style:{height:"1184px"},children:[f("div",{class:"day-header",children:_}),a.filter(Rt).map((h,d)=>f(It,{index:d,session:h,baseHeight:i}))]},_)),s.map((_,a)=>f("div",{class:"hour-marker",style:{top:`${_.position}px`},children:[f("span",{class:"hour-marker-text",children:_.text}),f("div",{class:"hour-marker-line"})]},a))]})]})]})}function Ln(){const[e,t]=W([]),[n,r]=W(""),[o,i]=W(!1),[s,c]=W(!1),l=()=>{const h={id:crypto.randomUUID(),name:"",sessions:[]};t([...e,h])},u=(h,d)=>{t(e.map(y=>y.id===h?d:y))},_=h=>{t(e.filter(d=>d.id!==h))},a=()=>{i(!0),setTimeout(()=>{c(!0)},20),setTimeout(()=>{const h=document.getElementById("schedule");if(h){const d=h.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:d,behavior:"smooth"})}},300)};return f("div",{id:"container",children:[f("h1",{children:"waterloo schedule generator"}),f("div",{id:"title-wrapper",class:"input-wrapper centered-input",children:[f("label",{children:"schedule name"}),f("input",{type:"text",placeholder:Te(),value:n,onInput:h=>r(h.target.value.toLowerCase())})]}),f("div",{id:"schedule-inputs",children:e.length===0?f("p",{children:"No courses added yet."}):e.map(h=>f(St,{course:h,onUpdate:d=>u(h.id,d),onDelete:()=>_(h.id)},h.id))}),f("button",{type:"button",onClick:l,children:"+ add course"}),f("button",{type:"button",onClick:a,children:"generate schedule"}),o&&f(Rn,{courses:e,scheduleTitle:n||Te(),showSchedule:s})]})}dt(f(Ln,{}),document.getElementById("app"));
